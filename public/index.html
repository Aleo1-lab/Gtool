<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTool v6.0 - Task System</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="container">
        
        <div class="management-column">
            <h2>Yönetim</h2>
            <button id="show-add-bot-modal" class="btn-add-new">
                Yeni Bot Ekle ➕
            </button>
            <div id="bot-list-container">
                <h3>Bot Listesi</h3>
                <div id="bot-list">
                    </div>
            </div>
        </div>

        <div class="log-and-console-column">
            
            <div id="log-container">
                <div class="log-header">
                    <h2>Gerçek Zamanlı Loglar</h2>
                    <button id="btn-show-all-logs" class="btn-show-all" style="display: none;">Tümünü Göster</button>
                </div>
                <pre id="logs"></pre>
            </div>

            <div id="global-command-console">
                <h3>Genel Komut Konsolu</h3>
                <div class="console-grid">
                    <select id="command-target-selector">
                        <option value="*">Tüm Botlar (Running)</option>
                    </select>
                    <input type="text" id="global-command-input" placeholder="say Merhaba!">
                    <button id="global-send-button" class="btn-send-cmd">Gönder</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-overlay">
        <div id="modal-content">
            <button id="modal-close-button" title="Kapat">&times;</button>
            <h2>Yeni Bot Ekle / Düzenle</h2>
            <form id="add-bot-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="bot-name">Bot Adı (Benzersiz)</label>
                        <input type="text" id="bot-name" required placeholder="TestBot_3">
                    </div>
                    <div class="form-group">
                        <label for="bot-username">Username (Giriş Adı)</label>
                        <input type="text" id="bot-username" required placeholder="TestBot_3">
                    </div>
                    <div class="form-group">
                        <label for="bot-host">Sunucu Adresi</label>
                        <input type="text" id="bot-host" required placeholder="play.sunucu.com">
                    </div>
                    <div class="form-group">
                        <label for="bot-port">Port</label>
                        <input type="number" id="bot-port" value="25565">
                    </div>
                    <div class="form-group">
                        <label for="bot-version">Sürüm</label>
                        <input type="text" id="bot-version" value="1.20.1">
                    </div>
                    <div class="form-group">
                        <label for="bot-auth">Giriş Tipi</label>
                        <select id="bot-auth">
                            <option value="offline" selected>Offline (Crackli)</option>
                            <option value="microsoft">Microsoft (Premium)</option>
                        </select>
                    </div>
                </div>
                <h3>Otomasyon & Ayarlar</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="bot-behavior">Davranış (Behavior)</label>
                        <select id="bot-behavior">
                            <option value="idle">idle</option>
                            </select>
                    </div>
                    <div class="form-group form-group-checkbox">
                        <input type="checkbox" id="bot-autoReconnect" checked>
                        <label for="bot-autoReconnect">Otomatik Yeniden Bağlan</label>
                    </div>
                </div>
                
                <div class="form-group" id="params-group">
                    <label for="bot-params-json">Params (JSON) - (Şifre, Koordinat vb.)</label>
                    <textarea id="bot-params-json" rows="4" placeholder='{ "password": "123", "target_x": 100 }'></textarea>
                </div>

                <h3>Proxy (Opsiyonel)</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="proxy-host">Proxy Host</label>
                        <input type="text" id="proxy-host" placeholder="123.123.123.1">
                    </div>
                    <div class="form-group">
                        <label for="proxy-port">Proxy Port</label>
                        <input type="number" id="proxy-port" placeholder="1080">
                    </div>
                </div>
                <button type="submit" id="save-bot-button">Botu Kaydet</button>
                <button type="button" id="clear-form-button">Formu Temizle</button>
            </form>
        </div>
    </div>
    
    <div id="inventory-modal-overlay">
         <div id="inventory-modal-content">
             <button id="inventory-modal-close-button" title="Kapat">&times;</button>
             <h2 id="inventory-modal-title">Bot Envanteri</h2>
             <div id="inventory-grid-container">
                 </div>
         </div>
    </div>

    <div id="task-modal-overlay">
         <div id="task-modal-content">
             <button id="task-modal-close-button" title="Kapat">&times;</button>
             <h2 id="task-modal-title">Görev Yöneticisi: [Bot Adı]</h2>
             
             <h3>Görev Kuyruğu</h3>
             <div id="task-queue-list">
                 <p>Kuyruk boş.</p>
             </div>

             <h3 class="task-form-title">Yeni Görev Ekle</h3>
             <form id="add-task-form">
                 <input type="hidden" id="task-bot-name">
                 <div class="form-grid">
                     <div class="form-group">
                         <label for="task-script-name">Görev Script'i</label>
                         <select id="task-script-name" required>
                             <option value="">Script Seçin...</option>
                             </select>
                     </div>
                 </div>
                 <div class="form-group">
                    <label for="task-params-json">Görev Parametreleri (JSON)</label>
                    <textarea id="task-params-json" rows="3" placeholder='{ "block_type": "coal_ore", "count": 10 }'></textarea>
                 </div>
                 <button type="submit" id="save-task-button">Görevi Kuyruğa Ekle</button>
             </form>
         </div>
    </div>

    <div id="task-log-modal-overlay">
         <div id="task-log-modal-content">
             <button id="task-log-modal-close-button" title="Kapat">&times;</button>
             <h2 id="task-log-modal-title">Canlı Görev Logu: [Task ID]</h2>
             <pre id="task-log-output"></pre>
         </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/app.js" type="module"></script>
</body>
</html>